{"ast":null,"code":"var _jsxFileName = \"/home/vinicius/vinicius/ProjetoExpress/projeto-mern-fevereiro/teste/iesp_react_class/src/components/AppList.js\";\nimport { Box, Button, CardContent, CircularProgress, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination } from '@material-ui/core';\nimport { Alert } from '@material-ui/lab';\nimport React, { useEffect, useState } from 'react';\nimport axios from '../../service/axios';\nconst baseApiUrl = 'https://jsonplaceholder.typicode.com/users';\nexport const AppList = () => {\n  const [atualizando, setAtualizando] = useState(false);\n  const [falhou, setFalhou] = useState(false);\n  const [usuarios, setUsuarios] = useState([]);\n  const [tamanhoPagina, setTamanhoPagina] = useState(10);\n  const [pagina, setPagina] = useState(0);\n\n  const aoMudarPagina = (e, novaPagina) => setPagina(novaPagina);\n\n  const aoMudarTamanhoPagina = e => {\n    setTamanhoPagina(parseInt(e.target.value, 10));\n    setPagina(0);\n  };\n\n  function aoExcluirUsuario(usuario) {\n    axios.delete(`${baseApiUrl}/${usuario.id}`).then(() => {\n      setUsuarios(usuarios.filter(u => u.id !== usuario.id));\n    });\n  }\n\n  useEffect(() => {\n    setAtualizando(true);\n    axios.get(baseApiUrl).then(({\n      data\n    }) => setUsuarios(data)).catch(() => {\n      setFalhou(true);\n    }).finally(() => {\n      setAtualizando(false);\n    });\n  }, [setUsuarios]);\n  return React.createElement(Box, {\n    component: \"div\",\n    my: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(CardContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, falhou && React.createElement(Box, {\n    component: Alert,\n    mb: 2,\n    severity: \"error\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Um erro impediu o carregamento da lista de usu\\xE1rios!\"), React.createElement(TableContainer, {\n    component: Paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Table, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(TableHead, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(TableRow, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Id\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Usu\\xE1rio\"), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Email\"), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Op\\xE7\\xF5es\"))), React.createElement(TableBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, atualizando && React.createElement(TableRow, {\n    key: \"atualizando\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    colSpan: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(CircularProgress, {\n    disableShrink: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }))), usuarios.slice(pagina * tamanhoPagina, pagina * tamanhoPagina + tamanhoPagina).map(row => React.createElement(TableRow, {\n    key: row.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, row.id), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, row.username), React.createElement(TableCell, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, row.email), React.createElement(TableCell, {\n    align: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"secondary\",\n    onClick: () => aoExcluirUsuario(row),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Excluir\"))))))), React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 15, 25],\n    component: \"div\",\n    count: usuarios.length,\n    rowsPerPage: tamanhoPagina,\n    page: pagina,\n    onChangePage: aoMudarPagina,\n    onChangeRowsPerPage: aoMudarTamanhoPagina,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  })));\n};","map":{"version":3,"sources":["/home/vinicius/vinicius/ProjetoExpress/projeto-mern-fevereiro/teste/iesp_react_class/src/components/AppList.js"],"names":["Box","Button","CardContent","CircularProgress","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Alert","React","useEffect","useState","axios","baseApiUrl","AppList","atualizando","setAtualizando","falhou","setFalhou","usuarios","setUsuarios","tamanhoPagina","setTamanhoPagina","pagina","setPagina","aoMudarPagina","e","novaPagina","aoMudarTamanhoPagina","parseInt","target","value","aoExcluirUsuario","usuario","delete","id","then","filter","u","get","data","catch","finally","slice","map","row","username","email","length"],"mappings":"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","sourcesContent":["import {\n    Box,\n    Button,\n    CardContent,\n    CircularProgress,\n    Paper,\n    Table,\n    TableBody,\n    TableCell,\n    TableContainer,\n    TableHead,\n    TableRow,\n    TablePagination\n} from '@material-ui/core'\nimport { Alert } from '@material-ui/lab'\nimport React, { useEffect, useState } from 'react'\nimport axios from '../../service/axios'\n\nconst baseApiUrl = 'https://jsonplaceholder.typicode.com/users'\n\nexport const AppList = () => {\n\n    const [atualizando, setAtualizando] = useState(false)\n    const [falhou, setFalhou] = useState(false)\n    const [usuarios, setUsuarios] = useState([])\n\n    const [tamanhoPagina, setTamanhoPagina] = useState(10)\n    const [pagina, setPagina] = useState(0)\n\n    const aoMudarPagina = (e, novaPagina) => setPagina(novaPagina)\n    const aoMudarTamanhoPagina = (e) => {\n        setTamanhoPagina(parseInt(e.target.value, 10));\n        setPagina(0);\n    }\n\n    function aoExcluirUsuario (usuario) {\n        axios.delete(`${baseApiUrl}/${usuario.id}`)\n            .then(() => {\n                setUsuarios(usuarios.filter(u => u.id !== usuario.id))\n            })\n    }\n\n    useEffect(() => {\n        setAtualizando(true)\n        axios.get(baseApiUrl)\n            .then(({ data }) => setUsuarios(data))\n            .catch(() => { setFalhou(true) })\n            .finally(() => { setAtualizando(false) })\n    }, [setUsuarios])\n\n    return (\n        <Box component='div' my={1}>\n            <CardContent>\n                {falhou && (\n                    <Box component={Alert} mb={2} severity='error'>\n                        Um erro impediu o carregamento da lista de usuários!\n                    </Box>\n                )}\n                <TableContainer component={Paper}>\n                    <Table>\n                        <TableHead>\n                            <TableRow>\n                                <TableCell>Id</TableCell>\n                                <TableCell>Usuário</TableCell>\n                                <TableCell>Email</TableCell>\n                                \n                                <TableCell align='right'>Opções</TableCell>\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {atualizando && (\n                                <TableRow key='atualizando'>\n                                    <TableCell colSpan={5}>\n                                        <CircularProgress disableShrink />\n                                    </TableCell>\n                                </TableRow>\n                            )}\n                            {usuarios.slice(pagina * tamanhoPagina, pagina * tamanhoPagina + tamanhoPagina).map(row => (\n                                <TableRow key={row.id}>\n                                    <TableCell component='th' scope='row'>\n                                        {row.id}\n                                    </TableCell>\n                                    <TableCell>{row.username}</TableCell>\n                                    <TableCell>{row.email}</TableCell>\n                                    \n                                    <TableCell align='right'>\n                                        <Button color='secondary' onClick={() => aoExcluirUsuario(row)}>Excluir</Button>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </TableContainer>\n                <TablePagination\n                    rowsPerPageOptions={[5, 10, 15, 25]}\n                    component=\"div\"\n                    count={usuarios.length}\n                    rowsPerPage={tamanhoPagina}\n                    page={pagina}\n                    onChangePage={aoMudarPagina}\n                    onChangeRowsPerPage={aoMudarTamanhoPagina}\n                />\n            </CardContent>\n        </Box>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}